<!DOCTYPE html>
<html>
<title>Lab 07</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
  integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
  integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
  integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    h1 {
      background-color:pink;
      color: #23aedc;
      padding: 20px;
    }

    .box {
      background-color: Cornsilk;
      border: 1px solid #211d1d;
      padding: 10px;
      margin: 20px;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
    }

    .info-line {
      display: flex;
      justify-content: space-between;
      background-color: #f0f0f0;
      padding: 10px;
      margin: 10px;
    }

    .box-column {
      width: 30%;
    }

    #locations {
      background-color: #ff9999; 
    }

    #penalty {
      background-color: #99ff99; 
    }

    #help {
      background-color: #9999ff; 
    }
    p {
      margin: 0;
    }
  </style>
</head>
<body>
  <h1>Find the treasure by Jahnavi Chava</h1>
  <div class="box">
    <p>Click on the locations to search for treasure, beware the traps</p>
  </div>
  <div class="info-line">
    <div class="box-column" id="locations">
      <p>Number of locations checked is zero.</p>
    </div>
    <div class="box-column" id="penalty">
      <p>Penalty is zero.</p>
    </div>
    <div class="box-column" id="help">
      <p>Help report</p>
    </div>
  </div>
  <div class="box">
    <p role="button" id="helpButton" onclick="HelpAndPenalty()">Click for help.</p>
</div>



  <div class="container-fluid">
    <div class="row">
        <div class="col">
            <img id="loc0" src="location.jpg" height="100" width="100" alt="location check" onclick="check(0)">
        </div>
        <div class="col">
            <img id="loc1" src="location.jpg" height="100" width="100" alt="location check" onclick="check(1)">
        </div>
        <div class="col">
            <img id="loc2" src="location.jpg" height="100" width="100" alt="location check" onclick="check(2)">
        </div>
        <div class="col">
            <img id="loc3" src="location.jpg" height="100" width="100" alt="location check" onclick="check(3)">
        </div>
        <div class="col">
            <img id="loc4" src="location.jpg" height="100" width="100" alt="location check" onclick="check(4)">
        </div>
    </div>
    
    <div class="row">
        <div class="col">
            <img id="loc5" src="location.jpg" height="100" width="100" alt="location check" onclick="check(5)">
        </div>
        <div class="col">
            <img id="loc6" src="location.jpg" height="100" width="100" alt="location check" onclick="check(6)">
        </div>
        <div class="col">
            <img id="loc7" src="location.jpg" height="100" width="100" alt="location check" onclick="check(7)">
        </div>
        <div class="col">
            <img id="loc8"  src="location.jpg" height="100" width="100" alt="location check" onclick="check(8)">
        </div>
        <div class="col">
            <img id="loc9"  src="location.jpg" height="100" width="100" alt="location check" onclick="check(9)">
        </div>
    </div>
    
    <div class="row">
        <div class="col">
            <img id="loc10" src="location.jpg" height="100" width="100" alt="location check" onclick="check(10)">
        </div>
        <div class="col">
            <img id="loc11" src="location.jpg" height="100" width="100" alt="location check" onclick="check(11)">
        </div>
        <div class="col">
            <img id="loc12" src="location.jpg" height="100" width="100" alt="location check" onclick="check(12)">
        </div>
        <div class="col">
            <img id="loc13" src="location.jpg" height="100" width="100" alt="location check" onclick="check(13)">
        </div>
        <div class="col">
            <img id="loc14" src="location.jpg" height="100" width="100" alt="location check" onclick="check(14)" >
        </div>
    </div>
    
    <div class="row">
        <div class="col">
            <img id="loc15"src="location.jpg" height="100" width="100" alt="location check" onclick="check(15)">
        </div>
        <div class="col">
            <img id="loc16"src="location.jpg" height="100" width="100" alt="location check" onclick="check(16)">
        </div>
        <div class="col">
            <img id="loc17"src="location.jpg" height="100" width="100" alt="location check" onclick="check(17)">
        </div>
        <div class="col">
            <img id="loc18"src="location.jpg" height="100" width="100" alt="location check" onclick="check(18)">
        </div>
        <div class="col">
            <img id="loc19" src="location.jpg" height="100" width="100" alt="location check" onclick="check(19)">
        </div>
    </div>
    
    <div class="row">
        <div class="col">
            <img id="loc20" src="location.jpg" height="100" width="100" alt="location check" onclick="check(20)">
        </div>
        <div class="col">
            <img id="loc21" src="location.jpg" height="100" width="100" alt="location check" onclick="check(21)">
        </div>
        <div class="col">
            <img id="loc22" src="location.jpg" height="100" width="100" alt="location check" onclick="check(22)">
        </div>
        <div class="col">
            <img id="loc23" src="location.jpg" height="100" width="100" alt="location check" onclick="check(23)">
        </div>
        <div class="col">
            <img id="loc24" src="location.jpg" height="100" width="100" alt="location check" onclick="check(24)">
        </div>
    </div>
</div>
   <script>
  let ids = [];
        let checkCount = 0;
        let penalty = 0;
        let lastCheck = 0;
        let treasureLocation = 5;
        let trapLocation = 18;
        let gameOver = false;

        for (let i = 0; i < 25; i++) {
            let id = `loc${i}`;
            ids.push(id);
            document.getElementById(id).onclick = function() {
                check(i);
            };
        }
        function check(position) {
            console.log("Clicked position: " + position);
            if (gameOver) return;

            let id = ids[position];
            let imageElement = document.getElementById(id);

            if (position === treasureLocation) {
                imageElement.src = "treasure.jpg";
                gameOver = true;
                penalty -= 3;
            } else if (position === trapLocation) {
                imageElement.src = "trap.png";
                gameOver = true;
                penalty += 4;
            } else {
                imageElement.src = "pirate2.jpg";
                penalty += 1;
            }

            checkCount += 1;
            document.getElementById("locations").innerText = `Number of locations checked is ${checkCount}.`;
            document.getElementById("penalty").innerText = `Penalty is ${penalty}.`;
            lastCheck = position;
        }
        function help() {
            if (gameOver) return;
            const rowLast = Math.floor(lastCheck / 5);
            const colLast = lastCheck % 5;
            const rowTreasure = Math.floor(treasureLocation / 5);
            const colTreasure = treasureLocation % 5;

            const distance = Math.abs(rowLast - rowTreasure) + Math.abs(colLast - colTreasure);

            if (distance === 1) {
                document.getElementById("loc${treasureLocation}").style.borderColor = "red";
                return "Can Smell It";
            } else if (distance === 2) {
                document.getElementById("loc${treasureLocation}").style.borderColor = "orange";
                return "Close Matie";
            } else {
                document.getElementById("loc${treasureLocation}").style.borderColor = "brown";
                return "Step Faster";
            }
        }
        function HelpAndPenalty() {
            if (gameOver) return;
            const helpMessage = help();
            document.getElementById("help").innerText = helpMessage;
            penalty += 2;
            document.getElementById("penalty").innerText = "Penalty is ${penalty}.";
        }
        const helpButton = document.getElementById("helpButton");
        if (helpButton) {
            helpButton.addEventListener("click", HelpAndPenalty);
        }
  </script>
      
</body>
</html>
